<!--
Fcron documentation
Copyright 2000-2014 Thibault Godouet <fcron@free.fr>
Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License,
Version 1.1 or any later version published by the Free Software
Foundation.
A copy of the license is included in gfdl.sgml.
-->


<refentry id="fcron.8">
  <refmeta>
    <refentrytitle>fcron</refentrytitle>
    <manvolnum>8</manvolnum>
    <refmiscinfo>Fcron &version; <![%devrelease; [
(<emphasis>development</emphasis> release)]]></refmiscinfo>
    <refmiscinfo>&date;</refmiscinfo>
  </refmeta>
  <refnamediv>
    <refname>fcron</refname>
    <refpurpose>démon pour exécuter des tâches planifiées</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>fcron</command>
      <arg>-c <replaceable>fichier</replaceable></arg>
      <arg>-d</arg>
      <arg>-b</arg>
      <arg>-s <replaceable>temps</replaceable></arg>
      <arg>-m <replaceable>nombre</replaceable></arg>
      <arg>-q <replaceable>nombre</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>fcron</command>
      <arg>-c <replaceable>fichier</replaceable></arg>
      <arg>-d</arg>
      <arg>-f</arg>
      <arg>-o</arg>
      <arg>-y</arg>
      <arg>-l <replaceable>temps</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>fcron</command>
      <arg>-n <replaceable>rép</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>fcron</command>
      <arg>-h</arg>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>fcron</command>
      <arg>-V</arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1>
    <title>Description</title>
    <para>&Fcron; devrait être lancé par un script <filename>/etc/rc</filename>
      ou <filename>/etc/rc.local</filename>. À moins que l'option
      <option>-f</option> (ou <option>--foreground</option>) n'ait été fournie,
      cette commande rend la main immédiatement. Ainsi, vous n'avez pas besoin
      de la lancer avec «&nbsp;&&nbsp;».
    </para>
    <para>&Fcron; charge les fichiers &fcrontabf; des utilisateurs (voir
      <link linkend="fcrontab.5">&fcrontab;(5)</link>) précédemment installés
      par <command>fcrontab</command> (voir <link
      linkend="fcrontab.1">&fcrontab;(1)</link>). Ensuite, &fcron; calcule la
      date et l'heure de la prochaine exécution de chaque tâche, détermine
      combien de temps il va devoir s'endormir et s'endort pendant cette durée.
      Lorsqu'il se réveille, il vérifie toutes les tâches chargées et les
      lancent si nécessaire. Lorsqu'une tâche est exécutée, &fcron; se dédouble
      (Ndt&nbsp;: fork), modifie ses permissions utilisateur et groupe pour
      correspondre à celles de l'utilisateur pour lequel la tâche est exécutée,
      exécute cette tâche et envoie par courriel les sorties à l'utilisateur
      (ce comportement peut être modifié&nbsp;: voir <link
      linkend="fcrontab.5">&fcrontab;(5)</link>).
    </para>
    <para>Les messages d'informations sur ce qu'est en train de faire &fcron;
      sont envoyés à <application>syslogd</application>(8) en utilisant ses
      capacités <emphasis>cron</emphasis>, priorité <emphasis>notice</emphasis>.
      Les avertissements ou les messages d'erreurs sont respectivement envoyés
      avec la priorité <emphasis>warning</emphasis> ou <emphasis>error</emphasis>.
    </para>
    <para>
      <note>
        <para>&fcron; s'endort au moins &firstsleep; secondes après qu'il ait
          été lancé avant d'exécuter une tâche, pour éviter de consommer trop
          de ressources pendant le démarrage du système.
        </para>
      </note>
    </para>
  </refsect1>

  <refsect1>
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><option>-f</option></term>
        <term><option>--foreground</option></term>
        <listitem>
          <para>Ne pas dédoubler en arrière plan. Dans ce mode de
            fonctionnement, &fcron; enverra les messages d'information sur la
            sortie d'erreur aussi bien qu'à syslogd.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-b</option></term>
        <term><option>--background</option></term>
        <listitem>
         <para>Forcer l'exécution en arrière plan, même si &fcron; a été
           compilé pour être lancé en avant plan par défaut.
         </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-s</option> <replaceable>sec</replaceable></term>
        <term><option>--savetime</option> <replaceable>sec</replaceable></term>
        <listitem>
          <para>Enregistrer les fichiers &fcrontabf; sur disque toutes les
            <replaceable>sec</replaceable> secondes
            (la valeur par défaut est 1800).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-m</option> <replaceable>n</replaceable></term>
        <term><option>--maxserial</option> <replaceable>n</replaceable></term>
        <listitem>
          <para>Positionner à <replaceable>n</replaceable> le nombre maximum
            de tâches qui peuvent être exécutées simultanément. La valeur
            par défaut est &serialmaxrunning;.
          </para>
          <para>&voiraussi; option &optserial; de &fcrontab;(5).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-q</option> <replaceable>n</replaceable></term>
        <term><option>--queuelen</option> <replaceable>n</replaceable></term>
        <listitem>
          <para>Positionner à <replaceable>n</replaceable> le nombre de tâches
            que les files d'attente sérialisées (Ndt&nbsp;: serial) et charge
            système (Ndt&nbsp;: lavg) peuvent contenir.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-c</option> <replaceable>fichier</replaceable></term>
        <term><option>--configfile</option> <replaceable>fichier</replaceable></term>
        <listitem>
          <para>Indiquer à &fcron; d'utiliser le fichier de configuration
            <replaceable>fichier</replaceable> au lieu du fichier de configuration
            par défaut <filename>&etc;/&fcron.conf.location;</filename>. Pour
            interagir avec un processus &fcron; en cours d'exécution, &fcrontab;
            doit utiliser le même fichier de configuration (qui est défini par
            l'option <option>-c</option> de &fcrontab;). De cette manière,
            plusieurs processus &fcron; peuvent être exécutés simultanément
            sur la même machine (mais chaque processus &fcron; *doit* avoir
            un répertoire de travail (Ndt&nbsp;: spool directory) et un
            fichier pid différents des autres processus).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-o</option></term>
        <term><option>--once</option></term>
        <listitem>
          <para>Exécuter toutes les tâches qui doivent l'être au moment où
            &fcron; a été lancé, attendre que les tâches s'achèvent et s'arrêter.
            Positionne <option>firstsleep</option> à 0. Peut être pratique
            particulièrement lorsqu'elle est utilisée avec les options
            <option>-y</option> et <option>-f</option> dans un script lançant,
            par exemple, une connexion par ligne commutée (Ndt&nbsp;: dialup
            connection).
          </para>
          <para>&voiraussi; les options &optvolatile; et &optstdout; de fcrontab.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-y</option></term>
        <term><option>--nosyslog</option></term>
        <listitem>
          <para>Ne pas journaliser vers syslog. Peut être utile lors d'une
            exécution en arrière plan.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-l</option> <replaceable>délai</replaceable></term>
        <term><option>--firstsleep</option> <replaceable>délai</replaceable></term>
        <listitem>
          <para>Définir le <replaceable>délai</replaceable> d'attente initial
            (en secondes) avant qu'une tâche ne soit exécutée. La valeur par
            défaut est &firstsleep; secondes.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-n</option> <replaceable>rép</replaceable></term>
        <term><option>--newspooldir</option> <replaceable>rép</replaceable></term>
        <listitem>
          <para>Créer <replaceable>rép</replaceable> comme nouveau répertoire
            de travail (Ndt&nbsp;: spool directory) de &fcron;. Positionner
            correctement son mode et son propriétaire. Puis, quitter.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-h</option></term>
        <term><option>--help</option></term>
        <listitem>
          <para>Afficher une brève description des options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-V</option></term>
        <term><option>--version</option></term>
        <listitem>
          <para>Afficher un message d'information à propos de &fcron;. Cela
            inclut sa version et la licence sous laquelle il est distribué.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><option>-d</option></term>
        <term><option>--debug</option></term>
        <listitem>
          <para>Démarrer en mode débogage (plus de détails sur la sortie
            d'erreur stderr - si l'option <option>-f</option> est fournie - et
            dans le fichier de journalisation).</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>Valeurs renvoyÉes</title>
    <para>&Fcron; renvoie &exitok; lorsqu'il quitte normalement, et &exiterr;
      en cas d'erreur.
    </para>
  </refsect1>

  <refsect1>
    <title>Signaux</title>
    <variablelist>
      <varlistentry>
        <term><constant>SIGTERM</constant></term>
        <listitem>
          <para>Enregistrer la configuration (temps restant jusqu'à la prochaine
            exécution, date et heure de la prochaine exécution, etc), attendre
            la fin de toutes les tâches en cours d'exécution et quitter.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><constant>SIGUSR1</constant></term>
        <listitem>
          <para>Forcer &fcron; à recharger sa configuration.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><constant>SIGUSR2</constant></term>
        <listitem>
          <para>Faire journaliser à &fcron; sa planification actuelle dans
            syslog. Il permet également d'activer ou désactiver l'affichage
            des informations de débogage dans syslog.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term><constant>SIGHUP</constant></term>
        <listitem>
          <para>Demander à &fcron; de vérifier si la configuration a été
            modifiée (ce signal est utilisé par &fcrontab;(5)).
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <refsect1>
    <title>ConformitÉ</title>
    <para>Devrait être conforme aux spécifications POSIX.</para>
  </refsect1>

  <refsect1>
    <title>Fichiers</title>
    <variablelist>
      <varlistentry>
        <term><filename>&etc;/&fcron.conf.location;</filename></term>
        <listitem>
          <para>Fichier de configuration de &fcron;, &fcrontab et &fcrondyn;&nbsp;:
            contient les chemins (répertoire spool, fichier pid) et les
            programmes par défaut à utiliser (éditeur, shell, etc.). Voir
            <link linkend="fcron.conf.5">&fcron.conf(5)</link> pour plus de
            détails.
         </para>
        </listitem>
      </varlistentry>
      <varlistentry>
	<term><filename>&etc;/&fcron.allow;</filename></term>
	<listitem>
	  <para>Utilisateurs autorisés à utiliser &fcrontab; et &fcrondyn;
            (un seul nom par ligne, le nom spécial «&nbsp;all&nbsp;»
	    signifiant tout le monde).
          </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><filename>&etc;/&fcron.deny;</filename></term>
	<listitem>
	  <para>Utilisateurs qui ne sont pas autorisés à utiliser &fcrontab;
            et &fcrondyn; (même format que le fichier précédent).
          </para>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><filename>&etc;/pam.d/fcron</filename> (ou
	  <filename>&etc;/pam.conf</filename>)
        </term>
	<listitem>
	  <para>Fichier de configuration <productname>PAM</productname> pour
            &fcron;. Voir &pam;(8) pour plus de détails.
          </para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  &manpage-foot;

  <refsect1>
    <title>Traduction</title>
    <para>Ce document est une traduction réalisée par Alain Portal
      &lt;aportal AT univ-montp2 DOT fr&gt; le 6 février 2006.
    </para>
    <para>L'équipe de traduction a fait le maximum pour réaliser une adaptation
      française de qualité. La version anglaise la plus à jour de ce document
      est toujours consultable via la commande&nbsp;: «&nbsp;<emphasis>LANG=en
      man 8 fcron</emphasis>&nbsp;».
      N'hésitez pas à signaler à l'auteur ou au traducteur, selon le cas,
      toute erreur dans cette page de manuel.
    </para>
  </refsect1>

</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-parent-document:("fcron-doc.sgml" "book" "chapter" "sect1" "")
End:
-->